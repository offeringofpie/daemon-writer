{"version":3,"sources":["components/Tooltip/index.tsx","components/Sidebar/index.tsx","components/TextArea/index.tsx","App/index.tsx","reportWebVitals.js","index.js"],"names":["Tooltip","props","state","text","className","xmlns","viewBox","fill","fillRule","d","clipRule","this","react","Component","Sidebar","host","longText","temperature","top_k","prefix","onSubmit","onChange","clearText","result","bind","ev","target","setState","id","value","method","action","type","toString","min","step","max","htmlFor","name","placeholder","onClick","stroke","strokeLinecap","strokeLinejoin","strokeWidth","TextArea","content","dangerouslySetInnerHTML","__html","App","refarea","React","createRef","localStorage","window","getItem","data","JSON","parse","document","body","textArea","preventDefault","fetch","stringify","length","then","response","json","cleanData","replace","prevState","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.74d307c2.chunk.js","sourcesContent":["import react from 'react';\n\nexport default class Tooltip extends react.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      text: props.text,\n    };\n  }\n\n  render() {\n    return (\n      <span className=\"ml-1 has-tooltip relative cursor-pointer opacity-40 hover:opacity-100 transition-all duration-200 ease-in-out\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n          className=\"w-4 h-4\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n        <span className=\"tooltip absolute bottom-0 left-5 font-normal text-sm w-128 block rounded-xl bg-gray-100 text-blue-800 p-3 bg-opacity-30 backdrop-blur shadow-xl\">\n          {this.state.text}\n        </span>\n      </span>\n    );\n  }\n}\n","import react from 'react';\nimport Tooltip from '../Tooltip';\nexport default class Sidebar extends react.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      host: props.host || 'http://localhost:3000',\n      longText: props.longText || '100',\n      temperature: props.temperature || '0.7',\n      top_k: props.top_k || '40',\n      prefix: props.prefix || 'The grasshopper lies heavy.',\n      onSubmit: props.onSubmit,\n      onChange: props.onChange,\n      clearText: props.clearText,\n      result: props.result,\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(ev: any) {\n    const target = ev.target;\n    this.setState({ [target.id]: target.value });\n  }\n\n  render() {\n    return (\n      <aside className=\"p-6 border bg-opacity-30 bg-gray-100 border-gray-100 border-opacity-50 shadow-xl m-6 backdrop-filter-blur rounded-xl text-blue-600 border-r-0 border-b-0\">\n        <form\n          method=\"POST\"\n          action=\"http://localhost:8888\"\n          onSubmit={(ev) => {\n            this.state.onSubmit(ev, this.state);\n          }}\n        >\n          <div className=\"pb-3\">\n            <label>\n              <h4 className=\"font-semibold text-lg pb-2\">Host</h4>\n              <input\n                type=\"text\"\n                id=\"host\"\n                className=\"w-full rounded-4xl border-0 bg-gray-100 focus:ring-0 focus:text-gray-600 hover:bg-gray-100 focus:bg-gray-100 hover:text-gray-500 text-base outline-none text-gray-500 py-2 px-4 resize-none leading-6 transition-all duration-200 ease-in-out bg-opacity-30 shadow-input\"\n                value={this.state.host.toString()}\n                onChange={this.onChange}\n              />\n            </label>\n          </div>\n          <div className=\"pb-3\">\n            <label>\n              <h4 className=\"font-semibold text-lg pb-2 flex align-middle\">\n                <span>Length</span>\n                <Tooltip\n                  text={`Number of tokens in generated text, if None (default), is determined by model hyperparameters`}\n                />\n              </h4>\n              <input\n                type=\"range\"\n                min=\"10\"\n                step=\"10\"\n                max=\"1000\"\n                id=\"longText\"\n                value={this.state.longText.toString()}\n                onChange={this.onChange}\n              />\n              <span className=\"pt-3 block text-right text-xs\">\n                {this.state.longText}\n              </span>\n            </label>\n          </div>\n          <div className=\"pb-3\">\n            <label>\n              <h4 className=\"font-semibold text-lg pb-2 flex align-middle\">\n                <span>Temperature</span>\n                <Tooltip\n                  text={`Float value controlling randomness in boltzmann distribution. Lower\n          temperature results in less random completions. As the temperature\n          approaches zero, the model will become deterministic and repetitive.\n          Higher temperature results in more random completions.`}\n                />\n              </h4>\n              <input\n                id=\"temperature\"\n                type=\"range\"\n                step=\"0.1\"\n                min=\"0.1\"\n                max=\"1\"\n                value={this.state.temperature}\n                onChange={this.onChange}\n              />\n              <span className=\"pt-3 block text-right text-xs\">\n                {this.state.temperature}\n              </span>\n            </label>\n          </div>\n          <div className=\"pb-3\">\n            <label>\n              <h4 className=\"font-semibold text-lg pb-2 flex align-middle\">\n                <span>Top k</span>\n                <Tooltip\n                  text={`Integer value controlling diversity. 1 means only 1 word is\n considered for each step (token), resulting in deterministic completions,\n while 40 means 40 words are considered at each step. 0 (default) is a\n special setting meaning no restrictions. 40 generally is a good value.`}\n                />\n              </h4>\n              <input\n                id=\"top_k\"\n                type=\"range\"\n                max=\"100\"\n                min=\"0\"\n                value={this.state.top_k}\n                onChange={this.onChange}\n              />\n              <span className=\"pt-3 block text-right text-xs\">\n                {this.state.top_k}\n              </span>\n            </label>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"prefix\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              <h4 className=\"font-semibold text-lg pb-2\">Prefix</h4>\n              <textarea\n                id=\"prefix\"\n                name=\"prefix\"\n                className=\"h-32 w-full rounded-4xl border-0 bg-gray-100 focus:ring-0 focus:text-gray-600 hover:bg-gray-100 focus:bg-gray-100 hover:text-gray-500 text-base outline-none text-gray-500 p-5 resize-none leading-6 transition-all duration-200 ease-in-out bg-opacity-30 shadow-input\"\n                placeholder=\"The grasshopper lies heavy\"\n                onChange={this.onChange}\n                value={this.state.prefix}\n              />\n            </label>\n          </div>\n          <div className=\"flex justify-center mt-3\">\n            <button\n              onClick={this.state.clearText}\n              className=\"font-bold py-2 px-4 rounded-xl inline-flex items-center text-gray-100 bg-red-500 hover:bg-red-600 focus:outline-nonetransition-all duration-200 ease-in-out border-0 shadow-inner-glass hover:shadow-sphere-active mr-2\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                className=\"w-4 h-4 mr-2\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"\n                />\n              </svg>\n              <span>Delete</span>\n            </button>\n            <button\n              className=\"font-bold py-2 px-4 rounded-xl inline-flex items-center text-gray-100 bg-green-500 hover:bg-green-600 focus:outline-nonetransition-all duration-200 ease-in-out border-0 shadow-inner-glass hover:shadow-sphere-active\"\n              type=\"submit\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                className=\"w-4 h-4 mr-2\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M5 13l4 4L19 7\"\n                />\n              </svg>\n              <span>Send</span>\n            </button>\n          </div>\n        </form>\n      </aside>\n    );\n  }\n}\n","import react from 'react';\nexport default class TextArea extends react.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      content: props.content || '',\n    };\n  }\n\n  componentWillReceiveProps(props: any) {\n    this.setState({\n      content: props.content,\n    });\n  }\n\n  render() {\n    return (\n      <main\n        className=\"p-6 md:flex-grow border bg-opacity-70 bg-gray-100 border-gray-100 border-opacity-50 shadow-xl m-6 backdrop-filter-blur rounded-xl border-r-0 border-b-0 text-blue-600 font-serif text-center text-2xl\"\n        dangerouslySetInnerHTML={{ __html: this.state.content }}\n      ></main>\n    );\n  }\n}\n","import Sidebar from '../components/Sidebar';\nimport TextArea from '../components/TextArea';\nimport React from 'react';\n\nexport default class App extends React.Component<any, any> {\n  private refarea = React.createRef<TextArea>();\n  constructor(props: any) {\n    super(props);\n\n    const localStorage = window.localStorage.getItem('data');\n    const data =\n      localStorage !== null ? JSON.parse(localStorage as string) : null;\n    this.state = {\n      host: data !== null ? data.host : 'http://localhost:3000',\n      longText: data !== null ? data.longText : '100',\n      temperature: data !== null ? data.temperature : '0.7',\n      top_k: data !== null ? data.top_k : '40',\n      prefix: data !== null ? data.prefix : 'The grasshopper lies heavy.',\n      result: data !== null ? data.result : '',\n    };\n    this.clearText = this.clearText.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  componentWillMount() {\n    document.body.className =\n      'bg-gradient-to-br from-blue-300 to-blue-600 antialiased';\n  }\n\n  render() {\n    return (\n      <div className=\"md:flex justify-center max-w-7xl mx-auto\">\n        <Sidebar\n          textArea={this.refarea}\n          host={this.state.host}\n          longText={this.state.longText}\n          temperature={this.state.temperature}\n          top_k={this.state.top_k}\n          prefix={this.state.prefix}\n          onSubmit={this.onSubmit}\n          clearText={this.clearText}\n        />\n        <TextArea content={this.state.result} />\n      </div>\n    );\n  }\n\n  onSubmit(ev: any, state: any) {\n    ev.preventDefault();\n\n    fetch(`${state.host}`, {\n      method: 'POST',\n      body: JSON.stringify({\n        length: state.longText,\n        prefix: state.prefix,\n        temperature: state.temperature,\n        top_k: state.top_k,\n      }),\n    })\n      .then((response: any) => response.json())\n      .then((data) => {\n        let cleanData = `<p>${data.text.replace(\n          /(?:\\r\\n|\\r|\\n)/g,\n          '<br>'\n        )}</p>`;\n        this.setState(\n          (prevState: any) => {\n            return {\n              ...prevState,\n              host: state.host,\n              length: state.longText,\n              temperature: state.temperature,\n              top_k: state.top_k,\n              prefix: state.prefix,\n              result: prevState.result + cleanData,\n            };\n          },\n          () => {\n            window.localStorage.setItem('data', JSON.stringify(this.state));\n          }\n        );\n      });\n  }\n\n  clearText() {\n    this.setState(\n      (prevState: any) => {\n        return {\n          ...prevState,\n          result: '',\n        };\n      },\n      () => {\n        window.localStorage.setItem('data', JSON.stringify(this.state));\n      }\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}