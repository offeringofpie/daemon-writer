(this.webpackJsonpwriter=this.webpackJsonpwriter||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(10),o=n.n(s),i=(n(15),n(7)),l=n(2),c=n(3),h=n(6),u=n(5),b=n(4),d=n(8),x=n(0),p=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={text:e.text},r}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("span",{className:"ml-1 has-tooltip relative cursor-pointer opacity-40 hover:opacity-100 transition-all duration-200 ease-in-out",children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:Object(x.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Object(x.jsx)("span",{className:"tooltip absolute bottom-0 left-5 font-normal text-sm w-128 block rounded-xl bg-gray-100 text-blue-800 p-3 bg-opacity-30 backdrop-blur shadow-xl",children:this.state.text})]})}}]),n}(a.a.Component),j=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={host:e.host||"http://localhost:3000",longText:e.longText||"100",temperature:e.temperature||"0.7",top_k:e.top_k||"40",prefix:e.prefix||"The grasshopper lies heavy.",onSubmit:e.onSubmit,onChange:e.onChange,clearText:e.clearText,result:e.result},r.onChange=r.onChange.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"onChange",value:function(e){var t=e.target;this.setState(Object(d.a)({},t.id,t.value))}},{key:"render",value:function(){var e=this;return Object(x.jsx)("aside",{className:"p-6 border bg-opacity-70 bg-gray-300 border-gray-100 border-opacity-50 shadow-xl m-6 backdrop-filter-blur rounded-xl text-blue-600 border-r-0 border-b-0 flex-third backdrop-blur",children:Object(x.jsxs)("form",{method:"POST",action:"http://localhost:8888",onSubmit:function(t){console.log(e.state),e.state.onSubmit(t,e.state)},children:[Object(x.jsx)("div",{className:"pb-3",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("h4",{className:"font-semibold text-lg pb-2",children:"Host"}),Object(x.jsx)("input",{type:"text",id:"host",className:"w-full rounded-4xl border-0 bg-gray-100 focus:ring-0 focus:text-gray-600 hover:bg-gray-100 focus:bg-gray-100 hover:text-gray-500 text-base outline-none text-gray-500 py-2 px-4 resize-none leading-6 transition-all duration-200 ease-in-out bg-opacity-30 shadow-input",value:this.state.host.toString(),onChange:this.onChange})]})}),Object(x.jsx)("div",{className:"pb-3",children:Object(x.jsxs)("label",{children:[Object(x.jsxs)("h4",{className:"font-semibold text-lg pb-2 flex align-middle",children:[Object(x.jsx)("span",{children:"Length"}),Object(x.jsx)(p,{text:"Number of tokens in generated text, if None (default), is determined by model hyperparameters"})]}),Object(x.jsx)("input",{type:"range",min:"10",step:"10",max:"1000",id:"longText",value:this.state.longText.toString(),onChange:this.onChange}),Object(x.jsx)("span",{className:"pt-3 block text-right text-xs",children:this.state.longText})]})}),Object(x.jsx)("div",{className:"pb-3",children:Object(x.jsxs)("label",{children:[Object(x.jsxs)("h4",{className:"font-semibold text-lg pb-2 flex align-middle",children:[Object(x.jsx)("span",{children:"Temperature"}),Object(x.jsx)(p,{text:"Float value controlling randomness in boltzmann distribution. Lower\n          temperature results in less random completions. As the temperature\n          approaches zero, the model will become deterministic and repetitive.\n          Higher temperature results in more random completions."})]}),Object(x.jsx)("input",{id:"temperature",type:"range",step:"0.1",min:"0.1",max:"1",value:this.state.temperature,onChange:this.onChange}),Object(x.jsx)("span",{className:"pt-3 block text-right text-xs",children:this.state.temperature})]})}),Object(x.jsx)("div",{className:"pb-3",children:Object(x.jsxs)("label",{children:[Object(x.jsxs)("h4",{className:"font-semibold text-lg pb-2 flex align-middle",children:[Object(x.jsx)("span",{children:"Top k"}),Object(x.jsx)(p,{text:"Integer value controlling diversity. 1 means only 1 word is\n considered for each step (token), resulting in deterministic completions,\n while 40 means 40 words are considered at each step. 0 (default) is a\n special setting meaning no restrictions. 40 generally is a good value."})]}),Object(x.jsx)("input",{id:"top_k",type:"range",max:"100",min:"0",value:this.state.top_k,onChange:this.onChange}),Object(x.jsx)("span",{className:"pt-3 block text-right text-xs",children:this.state.top_k})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700",children:[Object(x.jsx)("h4",{className:"font-semibold text-lg pb-2",children:"Prefix"}),Object(x.jsx)("textarea",{id:"prefix",name:"prefix",className:"h-32 w-full rounded-4xl border-0 bg-gray-100 focus:ring-0 focus:text-gray-600 hover:bg-gray-100 focus:bg-gray-100 hover:text-gray-500 text-base outline-none text-gray-500 p-5 resize-none leading-6 transition-all duration-200 ease-in-out bg-opacity-30 shadow-input",placeholder:"The grasshopper lies heavy",onChange:this.onChange,value:this.state.prefix})]})}),Object(x.jsxs)("div",{className:"flex justify-center mt-6",children:[Object(x.jsxs)("button",{type:"button",onClick:this.state.clearText,className:"font-bold py-2 px-4 mr-2 rounded-xl inline-flex items-center text-gray-100 bg-red-500 hover:bg-red-600 focus:outline-nonetransition-all duration-200 ease-in-out border-0 shadow-button hover:shadow-button-hover",children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 mr-2",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),Object(x.jsx)("span",{children:"Delete"})]}),Object(x.jsxs)("button",{className:"font-bold py-2 px-4 rounded-xl inline-flex items-center text-gray-100 bg-green-500 hover:bg-green-600 focus:outline-nonetransition-all duration-200 ease-in-out border-0 shadow-button hover:shadow-button-hover",type:"submit",children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 mr-2",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Object(x.jsx)("span",{children:"Send"})]})]})]})})}}]),n}(a.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={content:e.content||""},r}return Object(c.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({content:e.content})}},{key:"render",value:function(){return Object(x.jsx)("main",{className:"p-6 md:flex-two-thirds border bg-opacity-70 bg-gray-100 border-gray-100 border-opacity-50 shadow-xl m-6 backdrop-blur rounded-xl border-r-0 border-b-0 text-blue-600 font-serif text-center text-2xl",dangerouslySetInnerHTML:{__html:this.state.content}})}}]),n}(a.a.Component),g=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var r;Object(l.a)(this,n),(r=t.call(this,e)).refarea=a.a.createRef();var s=window.localStorage.getItem("data"),o=null!==s?JSON.parse(s):null;return r.state={host:null!==o?o.host:"http://localhost:3000",longText:null!==o?o.longText:"100",temperature:null!==o?o.temperature:"0.7",top_k:null!==o?o.top_k:"40",prefix:null!==o?o.prefix:"The grasshopper lies heavy.",result:null!==o?o.result:""},r.clearText=r.clearText.bind(Object(h.a)(r)),r.onSubmit=r.onSubmit.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"componentWillMount",value:function(){document.body.className="antialiased"}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"md:flex justify-center max-w-7xl mx-auto flex-wrap",children:[Object(x.jsx)(j,{textArea:this.refarea,host:this.state.host,longText:this.state.longText,temperature:this.state.temperature,top_k:this.state.top_k,prefix:this.state.prefix,onSubmit:this.onSubmit,clearText:this.clearText}),Object(x.jsx)(m,{content:this.state.result}),Object(x.jsxs)("footer",{className:"flex-grow flex-full px-6 text-right text-blue-800",children:[Object(x.jsx)("span",{children:"2021"}),Object(x.jsxs)("a",{href:"https://github.com/offeringofpie/daemon-writer",rel:"noreferrer nofollow",target:"_blank",title:"GitHub Repository",className:"hover:text-blue-600 transition-all duration-200 ease-in-out",children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",fill:"currentColor",className:"w-5 h-5 inline-block mx-2",children:Object(x.jsx)("path",{d:"M33 29c-1.797 0-3 1.516-3 4s.89 5.047 3 5c2.219-.05 3.02-2.223 3-5-.016-2.484-1.207-4-3-4zm11.262-11.934c.273-1.343.39-6.101-1.582-11.066 0 0-4.532.496-11.383 5.2-1.434-.4-3.867-.598-6.297-.598-2.43 0-4.86.199-6.3.593C11.851 6.496 7.323 6 7.323 6c-1.976 4.965-1.879 9.61-1.586 11.066C3.418 19.586 2 22.61 2 26.742c0 17.965 14.906 18.254 18.668 18.254.852 0 2.543 0 4.332.004 1.79-.004 3.484-.004 4.332-.004 3.762 0 18.668-.289 18.668-18.254 0-4.133-1.418-7.156-3.738-9.676zM25.14 43H25c-9.43 0-16.844-1.34-16.844-10.504 0-2.195.778-4.23 2.617-5.922 3.07-2.82 8.262-1.328 14.157-1.328h.14c5.895 0 11.09-1.488 14.16 1.328 1.84 1.692 2.614 3.727 2.614 5.922C41.844 41.66 34.57 43 25.14 43zM17 29c-1.793 0-3 2.016-3 4.5s1.207 4.5 3 4.5c1.797 0 3-2.016 3-4.5S18.797 29 17 29z"})}),Object(x.jsx)("span",{children:"offeringofpie / Daemon Writer"})]})]})]})}},{key:"onSubmit",value:function(e,t){var n=this;e.preventDefault(),console.log(t),fetch("".concat(t.host),{method:"POST",body:JSON.stringify({length:t.longText,prefix:t.prefix,temperature:t.temperature,top_k:t.top_k})}).then((function(e){return e.json()})).then((function(e){var r="<p>".concat(e.text.replace(/(?:\r\n|\r|\n)/g,"<br>"),"</p>");n.setState((function(e){return Object(i.a)(Object(i.a)({},e),{},{host:t.host,length:t.longText,temperature:t.temperature,top_k:t.top_k,prefix:t.prefix,result:e.result+r})}),(function(){window.localStorage.setItem("data",JSON.stringify(n.state))}))}))}},{key:"clearText",value:function(){var e=this;this.setState((function(e){return Object(i.a)(Object(i.a)({},e),{},{result:""})}),(function(){window.localStorage.setItem("data",JSON.stringify(e.state))}))}}]),n}(a.a.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))};o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(g,{})}),document.getElementById("root")),f()}},[[17,1,2]]]);
//# sourceMappingURL=main.b67d2e75.chunk.js.map